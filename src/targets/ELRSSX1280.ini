# ********************************
# STM32L4 + SX1280 Transmitter Target
# ********************************
[env:ELRSSX1280TX_via_STLINK]
extends = env_common_stm32, radio_2400
board = l432kb
build_flags =
    ${env_common_stm32.build_flags}
    ${radio_2400.build_flags}
    ${common_env_data.build_flags_tx}
    -include target/ELRSSX1280TX.h
    -D VECT_TAB_OFFSET=0x0U
    -D FLASH_APP_OFFSET=0x0U
    -D PLATFORM_STM32
    -Wl,--defsym=FLASH_APP_OFFSET=0
    -D FLASH_PAGE_NUMBER=60
    -D FLASH_BASE_ADDRESS=0x0801E000
   # -D DEBUG_LOG
debug_build_flags = -O1 -ggdb3 -g3
#upload_flags = --no-erase
build_src_filter = ${env_common_stm32.build_src_filter} -<rx_*.cpp>
; No upload_flags â€“ direct flashing with ST-Link
[env:ELRSSX1280TX_via_stock_BL]
extends = env:ELRSSX1280TX_via_STLINK